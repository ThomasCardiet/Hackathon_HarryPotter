(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{9525:function(e,t,s){var r={"./Choice/index.js":[3790,802,118,664,790],"./Compteur/index.js":[6468,802,118,620],"./CountDown/index.js":[3582,582],"./Default/index.js":[8808],"./DraggableIngredient/index.js":[5149,897,149],"./DropBlock/index.js":[2530,530],"./Home/index.js":[4816,802,118,664,637,816],"./Hooks/index.js":[5468,468],"./Icon/index.js":[4298,298],"./JoinParty/index.js":[9937,802,118,664,937],"./Login/index.js":[6003,802,118,743,3],"./Party/index.js":[6047,802,118,664,897,47],"./ViewRoom/index.js":[4668,802,118,664,668],"./Waiting/index.js":[9560]};function n(e){if(!s.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],n=t[0];return Promise.all(t.slice(1).map(s.e)).then(function(){return s(n)})}n.keys=function(){return Object.keys(r)},n.id=9525,e.exports=n},9805:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[[...slug]]",function(){return s(2462)}])},3695:function(e,t,s){"use strict";s.d(t,{V:function(){return i}});var r=s(4924),n=s(6154);let a="auth";class i{static getPath(){return this.path}static getRoutes(){return this.routes}static getHeaders(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={Accept:"application/json","Content-Type":"application/json"};return Object.values(e).forEach(e=>{let[s,r]=e;t[s]=r}),t}static async fetchApi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r={method:s,headers:this.getHeaders()};return Object.keys(t).length>0&&(r.body=JSON.stringify(t)),await fetch("".concat("https://hp-api-iim.azurewebsites.net").concat(this.getPath()).concat(e),r).then(e=>e.json()).then(e=>e).catch(e=>({status:400,message:e.message}))}static async getAllUsers(){return await this.fetchApi(this.getRoutes().GET_USERS)}static async loginUser(e){return this.isLoggedUser()?{statusCode:500,message:"Vous \xeates d\xe9j\xe0 connect\xe9"}:await this.fetchApi(this.getRoutes().AUTH_LOGIN,e,"POST")}static LogoutUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.isLoggedUser()?(this.unStoreUser(),e&&e(null),{statusCode:200,message:"Vous avez \xe9t\xe9 d\xe9connect\xe9"}):{statusCode:400,message:"Vous n'\xeates pas connect\xe9"}}static storeUser(e){localStorage.setItem(a,JSON.stringify(e))}static unStoreUser(){localStorage.removeItem(a)}static isLoggedUser(){return!!localStorage.getItem(a)}static getLoggedUser(){if(!this.isLoggedUser())return null;let e=JSON.parse(localStorage.getItem(a));return e.user?e.user:null}}(0,r.Z)(i,"path","/"),(0,r.Z)(i,"routes",{GET_USERS:"users",AUTH_LOGIN:"auth/log-in",AUTH_REGISTER:"auth/register"}),(0,r.Z)(i,"postNewGame",async e=>{if(!i.isLoggedUser())return null;let t=JSON.parse(localStorage.getItem(a)),s=await n.Z.post("https://hp-api-iim.azurewebsites.net/matches/start",e,{headers:{Authorization:"Bearer "+t.token,"Content-Type":"application/json"}});console.log(s)})},8808:function(e,t,s){"use strict";s.r(t);var r=s(5893);s(7294);let n=e=>{let{route:t}=e;return(0,r.jsx)("h1",{children:t.name})};t.default=n},9560:function(e,t,s){"use strict";s.r(t),s.d(t,{Waiting:function(){return a}});var r=s(5893);s(7294);var n=s(238);let a=()=>(0,r.jsx)("div",{className:"waiting-block",children:(0,r.jsx)(n.iT,{height:100,width:100,color:"#F9C749",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"##FFEBB8",strokeWidth:2,strokeWidthSecondary:2})})},4564:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.suspense=function(){let e=Error(r.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=r.NEXT_DYNAMIC_NO_SSR_CODE,e},t.NoSSR=function(e){let{children:t}=e;return t},(0,s(2648).Z)(s(7294));var r=s(2983)},7645:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let s=a.default,n={loading:e=>{let{error:t,isLoading:s,pastDelay:r}=e;return null}};e instanceof Promise?n.loader=()=>e:"function"==typeof e?n.loader=e:"object"==typeof e&&(n=r({},n,e)),n=r({},n,t);let o=n.loader,l=()=>null!=o?o().then(i):Promise.resolve(i(()=>null));return n.loadableGenerated&&delete(n=r({},n,n.loadableGenerated)).loadableGenerated,"boolean"!=typeof n.ssr||n.ssr||(delete n.webpack,delete n.modules),s(r({},n,{loader:l}))};var r=s(6495).Z,n=s(2648).Z;n(s(7294));var a=n(s(4588));function i(e){return{default:(null==e?void 0:e.default)||e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3644:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var r=(0,s(2648).Z)(s(7294));let n=r.default.createContext(null);t.LoadableContext=n},4588:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(932).Z,n=s(6495).Z,a=(0,s(2648).Z)(s(7294)),i=s(4564),o=s(3644);let l=[],u=[],c=!1;function d(e){let t=e(),s={loading:!0,loaded:null,error:null};return s.promise=t.then(e=>(s.loading=!1,s.loaded=e,e)).catch(e=>{throw s.loading=!1,s.error=e,e}),s}class h{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=n({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function g(e){return function(e,t){let s=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,ssr:!0},t),n=null;function l(){if(!n){let t=new h(e,s);n={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return n.promise()}if(s.lazy=a.default.lazy(r(function*(){if(s.ssr&&n){let e=n.getCurrentValue(),t=yield e.loaded;if(t)return t}return yield s.loader()})),!c){let e=s.webpack?s.webpack():s.modules;e&&u.push(t=>{for(let s of e)if(-1!==t.indexOf(s))return l()})}function d(e){!function(){l();let e=a.default.useContext(o.LoadableContext);e&&Array.isArray(s.modules)&&s.modules.forEach(t=>{e(t)})}();let t=s.loading,r=a.default.createElement(t,{isLoading:!0,pastDelay:!0,error:null}),n=s.ssr?a.default.Fragment:i.NoSSR,u=s.lazy;return a.default.createElement(a.default.Suspense,{fallback:r},a.default.createElement(n,null,a.default.createElement(u,Object.assign({},e))))}return d.preload=()=>l(),d.displayName="LoadableComponent",d}(d,e)}function f(e,t){let s=[];for(;e.length;){let r=e.pop();s.push(r(t))}return Promise.all(s).then(()=>{if(e.length)return f(e,t)})}g.preloadAll=()=>new Promise((e,t)=>{f(l).then(e,t)}),g.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let s=()=>(c=!0,t());f(u,e).then(s,s)})},window.__NEXT_PRELOADREADY=g.preloadReady,t.default=g},2462:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return g}});var r=s(5893),n=s(4339),a=s(8808);s(9560);var i=s(5152),o=s.n(i),l=s(7294),u=s(3695),c=s(9008),d=s.n(c);let h=e=>{let{path:t}=e,i=n.F.getRouteBySlug(t),c=o()(()=>s(9525)("./".concat(i.name,"/index.js")).catch(()=>a.default)),[h,g]=(0,l.useState)([]),[f,p]=(0,l.useState)(null);return(0,l.useEffect)(()=>{u.V.getAllUsers().then(e=>{e.status&&400===e.status||g(e)}),p(u.V.getLoggedUser())},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d(),{children:[(0,r.jsx)("title",{children:"Hckaton Harry Potter - Potion Game"}),(0,r.jsx)("meta",{name:"description",content:"Harry Potter potion maker game"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),h.length>0?(0,r.jsx)(c,{route:i,users:h,user:f,setUser:p}):""]})};var g=!0;t.default=h},4339:function(e,t,s){"use strict";s.d(t,{F:function(){return n}});var r=s(4924);class n{static getRoutes(){return this.routes}static getStaticPaths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slug";return Object.values(this.getRoutes()).map(t=>({params:{[e]:t.slug.substring(1).split("/")}}))}static getPathByArray(e){return e&&e.length>0?"/".concat(e.join("/")):"/"}static getRouteBySlug(e){return Object.values(this.getRoutes()).find(t=>t.slug===e)}}(0,r.Z)(n,"routes",{CHOICE:{name:"Choice",slug:"/choice"},LOGIN:{name:"Login",slug:"/login"},HOME:{name:"Home",slug:"/"},PARTY:{name:"Party",slug:"/party"},JOIN_PARTY:{name:"JoinParty",slug:"/join-party"},COMPTEUR:{name:"Compteur",slug:"/compteur"}})},5152:function(e,t,s){e.exports=s(7645)},9008:function(e,t,s){e.exports=s(3121)}},function(e){e.O(0,[245,774,888,179],function(){return e(e.s=9805)}),_N_E=e.O()}]);